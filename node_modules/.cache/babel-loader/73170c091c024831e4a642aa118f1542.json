{"ast":null,"code":"import{useContext,useRef}from'react';import AuthContext from'../../store/auth-context';import classes from'./ProfileForm.module.css';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileForm=function ProfileForm(){var history=useHistory();var newPasswordInputRef=useRef();var authCtx=useContext(AuthContext);var passwordSubmitHandler=function passwordSubmitHandler(event){event.preventDefault();var enteredNewPassword=newPasswordInputRef.current.value;fetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyAEeV1VDfgOg4SmI3EFZEBQuWFxoaKw0H4',{method:\"POST\",body:JSON.stringify({idToken:authCtx.token,password:enteredNewPassword,returnSecureToken:false}),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){history.replace('/');});};return/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:passwordSubmitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"new-password\",minLength:\"8\",ref:newPasswordInputRef})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.action,children:/*#__PURE__*/_jsx(\"button\",{children:\"Change Password\"})})]});};export default ProfileForm;","map":{"version":3,"sources":["/Users/vivekchowdary/My_World/Authentication/src/components/Profile/ProfileForm.js"],"names":["useContext","useRef","AuthContext","classes","useHistory","ProfileForm","history","newPasswordInputRef","authCtx","passwordSubmitHandler","event","preventDefault","enteredNewPassword","current","value","fetch","method","body","JSON","stringify","idToken","token","password","returnSecureToken","headers","then","res","replace","form","control","action"],"mappings":"AAAA,OAASA,UAAT,CAAqBC,MAArB,KAAmC,OAAnC,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAExB,GAAMC,CAAAA,OAAO,CAAGF,UAAU,EAA1B,CAEA,GAAMG,CAAAA,mBAAmB,CAAGN,MAAM,EAAlC,CACA,GAAMO,CAAAA,OAAO,CAAGR,UAAU,CAACE,WAAD,CAA1B,CAEA,GAAMO,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,KAAD,CAAW,CACvCA,KAAK,CAACC,cAAN,GAEA,GAAMC,CAAAA,kBAAkB,CAAGL,mBAAmB,CAACM,OAApB,CAA4BC,KAAvD,CAEAC,KAAK,CAAC,uGAAD,CAA0G,CAC7GC,MAAM,CAAE,MADqG,CAE7GC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,OAAO,CAAEZ,OAAO,CAACa,KADE,CAEnBC,QAAQ,CAAEV,kBAFS,CAGnBW,iBAAiB,CAAE,KAHA,CAAf,CAFuG,CAO7GC,OAAO,CAAE,CACP,eAAgB,kBADT,CAPoG,CAA1G,CAAL,CAUGC,IAVH,CAUQ,SAAAC,GAAG,CAAI,CACbpB,OAAO,CAACqB,OAAR,CAAgB,GAAhB,EACD,CAZD,EAaD,CAlBD,CAoBA,mBACE,cAAM,SAAS,CAAExB,OAAO,CAACyB,IAAzB,CAA+B,QAAQ,CAAEnB,qBAAzC,wBACE,aAAK,SAAS,CAAEN,OAAO,CAAC0B,OAAxB,wBACE,cAAO,OAAO,CAAC,cAAf,0BADF,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,cAA1B,CAAyC,SAAS,CAAC,GAAnD,CAAuD,GAAG,CAAEtB,mBAA5D,EAFF,GADF,cAKE,YAAK,SAAS,CAAEJ,OAAO,CAAC2B,MAAxB,uBACE,2CADF,EALF,GADF,CAWD,CAtCD,CAwCA,cAAezB,CAAAA,WAAf","sourcesContent":["import { useContext, useRef } from 'react';\nimport AuthContext from '../../store/auth-context';\nimport classes from './ProfileForm.module.css';\nimport { useHistory } from 'react-router-dom';\n\nconst ProfileForm = () => {\n\n  const history = useHistory();\n\n  const newPasswordInputRef = useRef();\n  const authCtx = useContext(AuthContext);\n\n  const passwordSubmitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredNewPassword = newPasswordInputRef.current.value;\n\n    fetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyAEeV1VDfgOg4SmI3EFZEBQuWFxoaKw0H4', {\n      method: \"POST\",\n      body: JSON.stringify({\n        idToken: authCtx.token,\n        password: enteredNewPassword,\n        returnSecureToken: false,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      history.replace('/');\n    })\n  };\n\n  return (\n    <form className={classes.form} onSubmit={passwordSubmitHandler}>\n      <div className={classes.control}>\n        <label htmlFor='new-password'>New Password</label>\n        <input type='password' id='new-password' minLength=\"8\" ref={newPasswordInputRef} />\n      </div>\n      <div className={classes.action}>\n        <button>Change Password</button>\n      </div>\n    </form>\n  );\n}\n\nexport default ProfileForm;\n"]},"metadata":{},"sourceType":"module"}